var dataTelemetry=function(e){"use strict";const t=e=>{const t=[];if(e.id)t.push(`#${e.id}`);else{const s=e.closest("[id]"),o=s?`#${s.id} `:"";t.push(o+e.nodeName.toLowerCase())}return t.push.apply(t,e.classList),t.join(".")},s=(e,t)=>(t?"pointer":"mouse")+e,o={cancel:e=>s("cancel",e),down:e=>s("down",e),enter:e=>s("enter",e),leave:e=>s("leave",e),move:e=>s("move",e),out:e=>s("out",e),over:e=>s("over",e),up:e=>s("up",e)};return e.Session=class{constructor(e=document,t=!0,s="function"==typeof PointerEvent){this.events=[],this.root=e,this.overwriteLastMove=t;const r=e.querySelectorAll("[data-telemetry]");for(let e=0,{length:t}=r;e<t;e++){const t=r[e],n=t.dataset.telemetry.split(/,[ \t\n\r]*/);for(let e=0,{length:r}=n;e<r;e++){const r=n[e];t.addEventListener(o.hasOwnProperty(r)?o[r](s):r,this,!0)}}}handleEvent(e){const{overwriteLastMove:s,events:o}=this,{target:r,type:n,key:i,pageX:a,pageY:c,isPrimary:l,timeStamp:u,isTrusted:v}=e;if(!v)return;const{length:p}=o,h={target:t(r),type:n,key:i,x:a,y:c,primary:l,time:u};s&&p>0&&/move$/.test(n)&&/move$/.test(o[p-1].type)?o[p-1]=h:o.push(h)}toJSON(){return{root:t(this.root),events:this.events}}},e}({});
